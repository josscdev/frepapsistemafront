<form [formGroup]="manegementForm" (ngSubmit)="getManegementForm('accesorios')">
    <div class="row">
        <div class="col-sm-4 mb-3">
            <label style="font-weight: lighter;">
                Descripción
            </label>
            <input type="text" id="input1" class="form-control" maxlength="100" formControlName="description"
                placeholder="Ingrese Descripción" (input)="transformToUpperCase($event)">
        </div>
        <div class="col-sm-4 mb-3">
            <label style="font-weight: lighter;">
                Subtipo Accesorio
            </label>
            <ng-select [items]="subtipos" placeholder="Seleccione Subtipo" formControlName="subtipoaccesorio">
            </ng-select>
        </div>
        <div class="col-sm-4 mb-3">
            <label style="font-weight: lighter;">
                Categoria
            </label>
            <ng-select [items]="categorias" placeholder="Seleccione Categoria" formControlName="categoriaaccesorio">
            </ng-select>
        </div>
    </div>
    <div class="row justify-content-md-start">
        <div class="col-sm-12 mb-3">
            <button type="submit" class="btn btn-primary m-3">Guardar</button>
            <button type="button" class="btn btn-info m-3"
                (click)="limpiarFormulario()">Limpiar
                Campos</button>
        </div>
    </div>
</form>
<div class="table-responsive-sm mt-4">
    <table class="table table-dark caption-top table-hover table-bordered text-center table-sm rounded-2">
        <caption class="text-black fw-bold">
            <div class="row justify-content-md-end my-2">
                <div class="col-sm-4">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Buscar" [(ngModel)]="searchTermAccesorio"
                            (keyup)="searchAccesorio()" aria-label="Username" aria-describedby="basic-addon1"
                            maxlength="100">
                    </div>
                </div>
            </div>
        </caption>
        <thead class="table-light">
            <tr>
                <th scope="col">Item</th>
                <th scope="col">Descripción</th>
                <th scope="col">Subtipo</th>
                <th scope="col">Categoría</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let accesorio of filteredAccesoriosList.slice(desdeA, hastaA)">
                <th scope="row">{{ accesorio.idtipoaccesorio }}</th>
                <td>
                    <ng-container *ngIf="!accesorio.editing">{{ accesorio.nombretipoaccesorio
                        }}</ng-container>
                    <input type="text" id="inputF" class="form-control" maxlength="100" *ngIf="accesorio.editing"
                        [value]="accesorio.nombretipoaccesorio | uppercase"
                        (input)="onDescriptionChangeAccesorio($event, accesorio)" placeholder="Ingrese Descripción">
                </td>
                <td>
                    <ng-container *ngIf="!accesorio.editing">
                        {{accesorio.subtipoaccesorio}}
                    </ng-container>
                    <ng-select *ngIf="accesorio.editing" [items]="subtipos" [clearable]="false"
                        [(ngModel)]="accesorio.subtipoaccesorio">
                    </ng-select>
                </td>
                <td>
                    <ng-container *ngIf="!accesorio.editing">
                        {{accesorio.categoriaaccesorio}}
                    </ng-container>
                    <ng-select *ngIf="accesorio.editing" [items]="categorias" [clearable]="false"
                        [(ngModel)]="accesorio.categoriaaccesorio">
                    </ng-select>
                </td>
                <td>
                    <a *ngIf="!accesorio.editing" (click)="enableEditingAccesorio(accesorio)">
                        <i class="bi bi-pencil-square me-3" style="color: #4f8bd9; font-size: 1.4rem;"></i>
                    </a>
                    <a *ngIf="accesorio.editing" (click)="saveChangesAccesorio(accesorio)">
                        <i class="bi bi-check2-circle me-3" style="color: #4fd976; font-size: 1.4rem;"></i>
                    </a>
                    <a *ngIf="accesorio.editing" (click)="cancelEditingAccesorio(accesorio)">
                        <i class="bi bi-x-square me-3" style="color: #d9534f; font-size: 1.4rem;"></i>
                    </a>&nbsp;
                    <a (click)="eliminarAccesorio(accesorio)">
                        <i class="bi bi-trash" style="color: #d9534f; font-size: 1.4rem;"></i>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="mt-5">
        <mat-paginator [length]="filteredAccesoriosList.length" [pageSize]="pageSizeAccesorio"
            (page)="cambiarpaginaAccesorio($event)"></mat-paginator>
    </div>
</div>